<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Title -->
    <title>LumiFeed - Ad Free News, Summaries, and Key Points</title>
    <!-- Meta Description -->
    <meta
      name="description"
      content="LumiFeed offers ad-free news with comprehensive summaries and key points. Stay updated with news from Kolkata and Indian cities through a clean and clutter-free UI/UX."
    />
    <!-- Meta Keywords -->
    <meta name="keywords" content="LumiFeed, ad free news, news summary, key points, Kolkata news, Indian news, summaries" />
    <!-- Author -->
    <meta name="author" content="Subhajit Gorai" />
    <!-- Linking CSS -->
    <link rel="stylesheet" href="{{url_for('static', filename='css/style.css')}}" />
    <link rel="stylesheet" href="{{url_for('static', filename='css/components/fonts.css')}}" />
    <link rel="stylesheet" href="{{url_for('static', filename='css/dark-mode.css')}}" />
    <link rel="stylesheet" href="{{url_for('static', filename='css/components/header.css')}}" />
    <link rel="stylesheet" href="{{url_for('static', filename='css/components/nav.css')}}" />
    <link rel="stylesheet" href="{{url_for('static', filename='css/components/fetch_news.css')}}" />
    <link rel="stylesheet" href="{{url_for('static', filename='css/components/table.css')}}" />
    <link rel="stylesheet" href="{{url_for('static', filename='css/components/read.css')}}" />
    <link rel="stylesheet" href="{{url_for('static', filename='css/components/search.css')}}" />
    <link rel="stylesheet" href="{{url_for('static', filename='css/components/about_and_contact.css')}}" />
    <link rel="stylesheet" href="{{url_for('static', filename='css/utils.css')}}" />
    <!-- Linking Favicon -->
    <link rel="shortcut icon" href="{{url_for('static', filename='images/favicon.png')}}" type="image/x-icon" />
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Red+Hat+Display:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet" />

    <!-- Open Graph Metadata -->
    <meta property="og:title" content="LumiFeed - Ad Free News, Summaries, and Key Points" />
    <meta
      property="og:description"
      content="LumiFeed offers ad-free news with comprehensive summaries and key points. Stay updated with news from Kolkata and Indian cities through a clean and clutter-free UI/UX."
    />
    <meta property="og:image" content="{{url_for('static', filename='images/social-preview.png')}}" />
    <meta property="og:url" content="https://lumifeed.up.railway.app" />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="LumiFeed" />

    <!-- Twitter Card Metadata -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="LumiFeed - Ad Free News, Summaries, and Key Points" />
    <meta
      name="twitter:description"
      content="LumiFeed offers ad-free news with comprehensive summaries and key points. Stay updated with news from Kolkata and Indian cities through a clean and clutter-free UI/UX."
    />
    <meta name="twitter:image" content="{{url_for('static', filename='images/social-preview.png')}}" />
    <meta name="twitter:site" content="@yourtwitterhandle" />

    <!-- Robots Metadata -->
    <meta name="robots" content="index, follow" />

    <!-- Theme Color for Mobile Browsers -->
    <meta name="theme-color" content="#ffffff" />

    <!-- Scripts for SEO -->
    <!-- Schema.org markup for Google -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "NewsArticle",
        "headline": "LumiFeed - Ad Free News, Summaries, and Key Points",
        "image": ["https://lumifeed.up.railway.app/static/images/social-preview.png"],
        "datePublished": "2024-07-15",
        "dateModified": "2024-07-15",
        "author": {
          "@type": "Person",
          "name": "Subhajit Gorai"
        },
        "publisher": {
          "@type": "Organization",
          "name": "LumiFeed",
          "logo": {
            "@type": "ImageObject",
            "url": "https://lumifeed.up.railway.app/static/images/logo.png"
          }
        },
        "description": "LumiFeed offers ad-free news with comprehensive summaries and key points. Stay updated with news from Kolkata and Indian cities through a clean and clutter-free UI/UX."
      }
    </script>

    <!-- css for loader -->
    <style>
      .loader-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 99999999999999;
      }

      .loader {
        border: 5px solid #f3f3f3;
        border-top: 5px solid #3498db;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
    </style>
  </head>

  <body>
    <div id="loader" class="loader-container" style="display: none">
      <div class="loader"></div>
    </div>

    <header class="fixed" itemscope itemtype="https://schema.org/WPHeader">
      <div class="header-wrapper full flex align-center section-element">
        <div class="logo flex align-center justify-start" itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
          <img id="logo-img" src="{{url_for('static', filename='images/favicon.png')}}" alt="LumiFeed Logo" itemprop="logo" />
          <span id="logo-text" itemprop="name">LumiFeed</span>
        </div>

        <nav role="navigation" class="relative flexed" itemscope itemtype="https://schema.org/SiteNavigationElement">
          <div class="ul relative flexed justify-evenly">
              <!-- go to end button -->
            <div class="li li1">
              <a class="f0 flexed" href="#table-end" rel="noopener">
                <img id="eee" src="{{url_for('static', filename='icons/dd1.svg')}}" alt="" />
                End of Table
              </a>
            </div>
            <!-- go to top button -->
            <div class="li li2">
              <a class="f0 flexed" href="#table-start" rel="noopener">
                <img id="uuu" src="{{url_for('static', filename='icons/dd2.svg')}}" alt="" />
                Start of Table
              </a>
            </div>

            <!-- profile/logout button -->
            <div class="li li5 flexed">
              {% if current_user.is_authenticated %}
              <form id="profile-form" action="/profile/{{current_user.username}}" method="GET">
                <div class="profile" onclick="document.getElementById('profile-form').submit();">
                  <img src="{{url_for('static', filename=current_user.profile_pic)}}" alt="profile pic" />
                </div>
              </form>
              {% else %}
              <form id="login-form" action="/login" method="GET">
                <button type="submit" class="flexed" rel="noopener">Login</button>
              </form>
              {% endif %}
            </div>

            <!-- acctual nav -->
            <div class="li li6 animated-underline-white og-li">
                <a href="/" class="flexed" rel="noopener">Home</a>
            </div>
            <div class="li li3 animated-underline-white og-li">
                <a href="/about" class="flexed" rel="noopener">About</a>
            </div>
            <div class="li li4 animated-underline-white og-li">
                <a href="/contact" class="flexed" rel="noopener">Contact</a>
            </div>

            <!-- for mobiles -->
            <div class="nav-items-for-mobiles flexed flex-col f-gap-2" style="display: none;">
                <div class="li li6 mobile-li animated-underline-white">
                    <a href="/" class="flexed" rel="noopener">Home</a>
                </div>
                <div class="li li3 mobile-li animated-underline-white">
                    <a href="/about" class="flexed" rel="noopener">About</a>
                </div>
                <div class="li li4 mobile-li animated-underline-white">
                    <a href="/contact" class="flexed" rel="noopener">Contact</a>
                </div>
            </div>
          </div>
        </nav>
        <div class="ham">
            <img height="20px" width="20px" src="/static/icons/ham.svg" style="display: flex;">
            <img height="20px" width="20px" src="/static/icons/cross3.svg" style="display: none;">
        </div>

        <div class="mobile-search-btn">
          <img src="{{url_for('static', filename='icons/search3.svg')}}" alt="search button" />
        </div>

        <div class="buttons">
          <div class="dark-mode-btn dmbtn">
            <span id="dm">
              <img src="{{url_for('static', filename='icons/dm2.svg')}}" alt="dark mode button" />
            </span>
          </div>
          <div class="bigger-font-btn">
            <span id="big_f">
              <img src="{{url_for('static', filename='icons/bigger.svg')}}" alt="bigger fonts button" />
            </span>
          </div>
        </div>
      </div>
    </header>

    <!-- fetch_news -->
    <div itemscope itemprop="inputOfData" class="fetch_news section-element" id="table-start">
      <form id="fetch-news-form" onsubmit="fetchNews(event)">
        <h2 class="category-title flexed justify-between">
          <span>Select News Category</span>
          <span class="dropdown">
            <img class="d-img-1" style="display: inline" src="{{url_for('static', filename='icons/plus2.svg')}}" alt="Expand" srcset="" />
            <img class="d-img-2" style="display: none" src="{{url_for('static', filename='icons/minus2.svg')}}" alt="Collapse" srcset="" />
          </span>
        </h2>
        <!-- options, etc -->
        <div class="options flex-col align-start" style="display: none">
          <div class="con flex-col align-center">
            <!-- options for news type -->
            <div class="options__container flexed f-gap-2">
              <div class="flex align-center">
                <input class="border" type="radio" name="news_type" value="top" id="top_news" required />
                <label class="custom-radio" for="top_news">Trending</label>
              </div>
              <div class="flex align-center">
                <input class="border" type="radio" name="news_type" value="india" id="india_news" required />
                <label class="custom-radio" for="india_news">India</label>
              </div>
              <div class="flex align-center">
                <input class="border" type="radio" name="news_type" value="city" id="city_news" required />
                <label class="custom-radio" for="city_news">City Wise</label>
              </div>
              <div class="flex align-center">
                <input class="border" type="radio" name="news_type" value="science" id="sci_news" required />
                <label class="custom-radio" for="sci_news">Science</label>
              </div>
              <div class="flex align-center">
                <input class="border" type="radio" name="news_type" value="tech" id="tech_news" required />
                <label class="custom-radio" for="tech_news">Technology</label>
              </div>
              <div class="flex align-center">
                <input class="border" type="radio" name="news_type" value="business" id="other_news_1" required />
                <label class="custom-radio" for="other_news_1">Business</label>
              </div>
              <div class="flex align-center">
                <input class="border" type="radio" name="news_type" value="health" id="other_news_2" required />
                <label class="custom-radio" for="other_news_2">Health</label>
              </div>
              <div class="flex align-center">
                <input class="border" type="radio" name="news_type" value="cricket" id="other_news_3" required />
                <label class="custom-radio" for="other_news_3">Cricket</label>
              </div>
              <div class="flex align-center">
                <input class="border" type="radio" name="news_type" value="sports" id="other_news_4" required />
                <label class="custom-radio" for="other_news_4">Sports</label>
              </div>
              <div class="flex align-center">
                <input class="border" type="radio" name="news_type" value="political_pulse" id="other_news_5" required />
                <label class="custom-radio" for="other_news_5">Politics</label>
              </div>
              <div class="flex align-center">
                <input class="border" type="radio" name="news_type" value="lifestyle" id="other_news_6" required />
                <label class="custom-radio" for="other_news_6">Lifestyle</label>
              </div>
              <div class="flex align-center">
                <input class="border" type="radio" name="news_type" value="entertainment" id="other_news_7" required />
                <label class="custom-radio" for="other_news_7">Entertainment</label>
              </div>
            </div>
            <div class="options__contaioner_sibling flexed justify-between">
              <div class="opp">
                <label id="lb" for="news_count">Enter Num of News to Fetch:</label>
                <input aria-valuemax="256" aria-valuemin="1" aria-valuenow="1" type="number" name="news_count" id="news_count" min="1" max="256" placeholder="25" />
              </div>

              <div class="btns flex f-gap-2">
                <button class="btn" type="submit">Fetch</button>
                <button class="btn" type="reset">Reset</button>
              </div>
            </div>
          </div>

          <!-- cities to choose -->
          <div class="city-name-options flexed justify-start f-gap-2" style="display: none">
            <label for="name_of_city">Choose city:</label>
            <select id="name_of_city" name="name_of_city">
              <option value="kolkata">Kolkata</option>
              <option value="bangalore">Bangalore</option>
              <option value="delhi">Delhi</option>
              <option value="mumbai">Mumbai</option>
              <option value="lucknow">Lucknow</option>
              <option value="pune">Pune</option>
              <option value="hyderabad">Hyderabad</option>
              <option value="chennai">Chennai</option>
              <option value="ahmedabad">Ahmedabad</option>
            </select>
          </div>
        </div>
      </form>
    </div>

    <main role="main" itemscope itemtype="https://schema.org/WebPage" itemprop="mainContentOfPage">
      <div class="container section-element">
        <!-- table -->
        <table id="news-table" itemscope itemtype="https://schema.org/Table" class="">
          <meta itemprop="tableOfNews" content="Table of News" />
          {% block table %} {% endblock %}
        </table>
        <div class="read flexed" id="read">
          <div class="read__container full flex-col">
            <div class="read__navigations flex align-center f-gap-2">
              <span id="read__preview">PREVIEW</span>
              <div class="read__icons ri1" id="open-in-new-tab">
                <img src="{{url_for('static', filename='icons/open1.svg')}}" alt="open preview in new tab" />
              </div>
              <div class="read__icons ri2" id="close-preview">
                <img src="{{url_for('static', filename='icons/cross1.svg')}}" alt="close preview" />
              </div>
            </div>
            <div class="read__page bg-set" itemscope itemtype="https://schema.org/NewsArticle">
              <meta itemprop="NewsArticle" content="News Article" />
              <br />
              <h1 id="ajax_h1" itemprop="headline"></h1>
              <br />
              <h3 id="ajax_h3" itemprop="description"></h3>
              <br />
              <br />
              <p id="ajax_p" itemprop="articleBody">
                <img id="ajax_img" src="" alt="news article image" itemprop="image" />
                <br />
              </p>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- table end may be changed or use the about hanger instead -->
    <div class="sp-X" id="table-end"></div>


    <!-- search + result -->
    <div itemscope itemtype="https://schema.org/SearchResultsPage" id="queryy" class="find fixed borderX flex-col f-gap-2">
      <!-- search query -->
      <div class="search-bar relative flex justify-between align-center">
        <form
          id="search-form"
          class="relative full flex justify-between align-center"
          action="/search_in_title"
          method="post"
          itemprop="potentialAction"
          itemscope
          itemtype="https://schema.org/SearchAction"
        >
          <meta itemprop="target" content="https://lumifeed.up.railway.app/search_in_title?search_part={search_term_string}" />
          <input type="text" name="search_part" id="search" placeholder="Search in News Titles" required itemprop="query-input" />
          <button class="search-icon bg-set" type="submit" name="submit" id="submit">Search</button>
        </form>
      </div>

      <!-- search results -->
      <div class="search-reasults relative flex-col f-gap-1" style="display: none">
        <div id="ajax_desktop" class="res__container full" itemprop="mainContentOfPage"></div>
      </div>
    </div>

    <!--  for mobiles -->
    <div itemscope itemtype="https://schema.org/SearchResultsPage" class="find-mobile flex-col align-center">
      <div class="horizontal-bar">
          <img src="/static/icons/cross2.svg" />
      </div>

      <div class="srch flexed justify-between">
        <!-- form -->
        <form
          id="phone-search-form"
          class="relative full flex justify-between align-center"
          action="/search_in_title"
          method="post"
          itemprop="potentialAction"
          itemscope
          itemtype="https://schema.org/SearchAction"
        >
          <meta itemprop="target" content="https://adfreenews.pythonanywhere.com/search_in_title_phone?search_part={search_term_string}" />
          <input type="text" name="search_part" id="phone-search-input" placeholder="Search in News Titles" required itemprop="query-input" />
          <button class="btn" type="submit" name="submit" id="sub-srch">Search</button>
        </form>
      </div>

      <div class="resa relative flex-col f-gap-1">
        <div id="ajax" class="res__container full" itemprop="mainContentOfPage"></div>
      </div>
    </div>

    <footer id="footer" class="flex section-element" role="footer" itemscope itemtype="https://schema.org/WPFooter">
        <div class="footer__logo dahlia">
            LumiFeed
        </div>
        <div class="footer__socials flexed">
            <ul class="full flexed flex-col f-gap-1 align-start justify-start p-top-2">
                <li class="animated-underline-white"><a href="mailto:lumifeed101@gmail.com">Email</a></li>
                <li class="animated-underline-white"><a target="_blank" href="https://github.com/Dream-World-Coder/LumiFeed">Github</a></li>
            </ul>
        </div>
        <div class="footer__links flexed">
            <ul class="full flexed flex-col f-gap-1 align-start justify-start p-top-2">
                <li class="animated-underline-white"><a href="/">Home</a></li>
                {% if current_user.is_authenticated %}
                <li class="animated-underline-white"><a href="/profile/{{current_user.username}}">Profile</a></li>
                {% endif %}
                <li class="animated-underline-white"><a href="/about">About</a></li>
                <li class="animated-underline-white"><a href="/contact">Contact</a></li>
            </ul>
        </div>
        <div class="footer__cc flexed">
            © 2024 Subhajit Gorai. All rights reserved.
            <meta name="copyright" content="Subhajit Gorai" />
        </div>

        <script>
          const footerLis = document.querySelectorAll('footer li')

          footerLis.forEach((li)=>{
            li.addEventListener("click", () => {
              li.querySelector("a").click();
            });
          })
        </script>
    </footer>

    <!-- script.js -->
    <script type="text/javascript" src="{{url_for('static', filename='js/script.js')}}"></script>

    <script>
      const aboutDiv = document.querySelector(".li3");
      const contactDiv = document.querySelector(".li4");
      const homeDiv = document.querySelector(".li6");

      [aboutDiv, contactDiv, homeDiv].forEach((div)=>{
        div.addEventListener("click", () => {
          div.querySelector("a").click();
        });
      });

      document.querySelectorAll('.mobile-li').forEach((li)=>{
        li.addEventListener("click", () => {
          li.querySelector("a").click();
        });
      });
    </script>
    <!-- displayMessage -->
    <script>
      function displayMessage(message, className) {
        const messageElement = document.createElement("div");
        messageElement.classList.add("temporary-message");
        if (className) {
          messageElement.classList.add(className);
        }
        messageElement.textContent = message;
        document.body.appendChild(messageElement);
        setTimeout(() => {
          messageElement.remove();
        }, 3000);
      }
    </script>
    <script type="text/javascript" src="{{url_for('static', filename='js/functions/bigger_font.js')}}"></script>
    <script type="text/javascript" src="{{url_for('static', filename='js/functions/city_options_toggle.js')}}"></script>
    <script type="text/javascript" src="{{url_for('static', filename='js/functions/dark_mode.js')}}"></script>
    <script>
      const read = document.getElementById("read");
      const closeBtn = document.getElementById("close-preview");
      const openInNewTabBtn = document.getElementById("open-in-new-tab");
      closeBtn.addEventListener("click", () => {
        read.style.display = "none";
      });
      openInNewTabBtn.addEventListener("click", () => {
        setTimeout(() => {
          read.style.display = "none";
        }, 500);
      });
    </script>
    <script type="text/javascript" src="{{url_for('static', filename='js/functions/search.js')}}"></script>
    <script type="text/javascript" src="{{url_for('static', filename='js/functions/fetch_news.js')}}"></script>

    <!-- utils -->
    <script type="text/javascript" src="{{url_for('static', filename='js/utils/scroll/smooth-scrolling.js')}}"></script>

    <!-- ajax -->
    <script type="text/javascript" src="{{url_for('static', filename='js/ajax/preview_news.js')}}"></script>
    <script type="text/javascript" src="{{url_for('static', filename='js/ajax/read_news_new_tab.js')}}"></script>
    <script type="text/javascript" src="{{url_for('static', filename='js/ajax/save_article.js')}}"></script>
    <script type="text/javascript" src="{{url_for('static', filename='js/ajax/fetch_news.js')}}"></script>
    <script type="text/javascript" src="{{url_for('static', filename='js/ajax/find_article.js')}}"></script>
    <script type="text/javascript" src="{{url_for('static', filename='js/ajax/desktop_search.js')}}"></script>
    <script type="text/javascript" src="{{url_for('static', filename='js/ajax/mobile_search.js')}}"></script>
  </body>
</html>
